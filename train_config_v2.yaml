# Training config v2 - Contrastive Loss Trainer
# Curriculum mining: random → semi-hard → hard

training:
  max_epochs: 100
  patience: 15

optimizer:
  learning_rate: 5.0e-4
  weight_decay: 1.0e-5
  lr_scheduler_factor: 0.5
  lr_scheduler_patience: 5

loss:
  margin: 1.0  # Contrastive loss margin

# Curriculum mining: 3 fasi
mining:
  random_epochs: 10       # Epoch 1-10: random mining
  semihard_epochs: 25     # Epoch 11-25: semi-hard mining
  hardmining_epochs: 100  # Epoch 26-100: hard mining

# PK sampling per batch
batch:
  num_patients: 64  # P: numero pazienti per batch
  num_ecg: 4        # K: numero ECG per paziente
  # Batch size = 64 * 4 = 256

encoder:
  input_dim: 13
  hidden_dims: [20]
  embedding_dim: 32
  dropout: 0.2
  normalize: true

data:
  train_csv: /Users/arjuna/Progetti/siamese/data/ECG/train.csv
  val_csv: /Users/arjuna/Progetti/siamese/data/ECG/val.csv

device: cpu
